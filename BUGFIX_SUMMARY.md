# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `/start` –≤ Telegram –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é —Å —Ç—Ä–µ–º—è –∫–Ω–æ–ø–∫–∞–º–∏:
- üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üîß –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∞–ª **–î–í–ê** —Ñ–∞–π–ª–∞ webhook:
1. `app/api/telegram/webhook/route.ts` - –±—ã–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ
2. `app/api/webhook/route.ts` - —Å–æ–¥–µ—Ä–∂–∞–ª —Å—Ç–∞—Ä—ã–π –∫–æ–¥ ‚ö†Ô∏è

**Telegram Bot –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –≤—Ç–æ—Ä–æ–π webhook**, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–¥–æ–ª–∂–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é.

## –†–µ—à–µ–Ω–∏–µ
1. **–ù–∞–π–¥–µ–Ω –≤—Ç–æ—Ä–æ–π webhook** –≤ `app/api/webhook/route.ts`
2. **–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ** –≤ –∫–æ–º–∞–Ω–¥–µ `/start`:
   - –£–¥–∞–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ "–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞" –∏ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—Ä–∞—Ç–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è HTML —Ä–∞–∑–º–µ—Ç–∫–∞
   - URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç environment –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `APP_URL`
3. **–û–±–Ω–æ–≤–ª–µ–Ω callback** –¥–ª—è –∫–Ω–æ–ø–∫–∏ "üöÄ –û—Ç–∫—Ä—ã—Ç—å Mini App"
4. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ production** Vercel

## –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ `/start` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
```
üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TMA-–ü–æ–¥–ø–∏—Å–∫–∞!

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –Ω–∞—à–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã.

üì± –û—Ç–∫—Ä–æ–π—Ç–µ Mini App, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å:
–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–¥–ø–∏—Å–∫—É.

[üöÄ –û—Ç–∫—Ä—ã—Ç—å Mini App]
```

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ: `http://localhost:3002/api/webhook`
- ‚úÖ Production: `https://tma-subscription.vercel.app/api/webhook`
- ‚úÖ –û–±–∞ webhook endpoint —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç environment –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é